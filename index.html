<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mathieu Pichette · Scroll Up</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Anton&family=DM+Sans:wght@300;400;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }
  :root { --gold: #F5C842; --dark: #080808; }

  body {
    background: var(--dark); color: white;
    font-family: 'DM Sans', sans-serif;
    overflow: hidden; height: 100vh; width: 100vw;
  }

  /* SPLASH */
  #splash {
    position: fixed; inset: 0; background: var(--dark);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 1000; gap: 10px; text-align: center; padding: 30px;
  }
  .eyebrow { font-size: 0.68rem; letter-spacing: 4px; text-transform: uppercase; color: #444; margin-bottom: 4px; }
  #splash h1 { font-family: 'Anton', sans-serif; font-size: 5rem; letter-spacing: 3px; line-height: 0.95; }
  #splash h1 em { color: var(--gold); font-style: normal; display: block; font-size: 68%; }
  .scroll-hint {
    display: flex; flex-direction: column; align-items: center; gap: 4px;
    margin: 16px 0; animation: floatUp 2s ease-in-out infinite; color: var(--gold);
  }
  .scroll-hint svg { width: 28px; }
  .scroll-hint span { font-size: 0.62rem; letter-spacing: 4px; text-transform: uppercase; }
  @keyframes floatUp {
    0%,100% { transform: translateY(0); opacity: 0.5; }
    50% { transform: translateY(-7px); opacity: 1; }
  }
  #startBtn {
    background: var(--gold); color: var(--dark); border: none;
    font-family: 'Anton', sans-serif; font-size: 1.1rem; letter-spacing: 3px;
    padding: 20px 50px; border-radius: 50px; cursor: pointer; margin-top: 6px;
    transition: transform 0.1s; position: relative; z-index: 9999;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  #startBtn:hover { transform: scale(1.03); }

  /* FEED */
  #feed { position: fixed; inset: 0; display: none; overflow: hidden; background: #000; }

  .slide {
    position: absolute; inset: 0;
    transition: transform 0.42s cubic-bezier(0.25,0.46,0.45,0.94);
    background: #000; overflow: hidden;
  }
  .slide iframe {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    border: none; z-index: 1;
  }
  .slide-info {
    position: absolute; bottom: 0; left: 0; right: 0;
    padding: 16px 16px 44px;
    background: linear-gradient(transparent, rgba(0,0,0,0.88));
    pointer-events: none; z-index: 2;
  }
  .slide-num { font-size: 0.62rem; letter-spacing: 3px; text-transform: uppercase; color: var(--gold); margin-bottom: 3px; }
  .slide-title { font-size: 0.95rem; font-weight: 600; line-height: 1.3; }

  #topbar {
    position: fixed; top: 0; left: 0; right: 0; z-index: 50;
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 14px 12px;
    background: linear-gradient(rgba(0,0,0,0.7), transparent);
    pointer-events: none;
  }
  .brand { font-family: 'Anton', sans-serif; font-size: 0.95rem; letter-spacing: 1px; }
  .brand span { color: var(--gold); }
  #counter { font-size: 0.68rem; color: rgba(255,255,255,0.4); letter-spacing: 1px; }

  #scrollBar {
    position: fixed; right: 8px; top: 50%; transform: translateY(-50%);
    display: flex; flex-direction: column; gap: 4px; z-index: 50; pointer-events: none;
  }
  .bdot { width: 3px; height: 18px; border-radius: 10px; background: rgba(255,255,255,0.1); transition: all 0.3s; }
  .bdot.active { background: var(--gold); height: 28px; }

  /* NAV BUTTONS */
  #navUp, #navDown {
    position: fixed; right: 30px; z-index: 100;
    background: rgba(245,200,66,0.15);
    border: 2px solid rgba(245,200,66,0.4);
    color: var(--gold); font-size: 1.4rem;
    width: 50px; height: 50px; border-radius: 50%;
    cursor: pointer; backdrop-filter: blur(10px);
    transition: background 0.2s, transform 0.1s;
    display: none;
  }
  #navUp { top: 50%; margin-top: -60px; }
  #navDown { top: 50%; margin-top: 10px; }
  #navUp:hover, #navDown:hover { background: rgba(245,200,66,0.35); transform: scale(1.1); }
  #feed:hover #navUp, #feed:hover #navDown { display: block; }

  #fsBtn {
    position: fixed; bottom: 20px; right: 20px; z-index: 100;
    background: rgba(0,0,0,0.6); border: 1px solid rgba(245,200,66,0.3);
    color: var(--gold); font-size: 1rem;
    width: 40px; height: 40px; border-radius: 10px;
    cursor: pointer; display: none;
  }
  #feed:hover #fsBtn { display: block; }

  /* hint */
  #hint {
    position: fixed; bottom: 60px; left: 50%; transform: translateX(-50%);
    background: rgba(245,200,66,0.12); border: 1px solid rgba(245,200,66,0.25);
    color: var(--gold); font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase;
    padding: 8px 18px; border-radius: 20px; z-index: 50; pointer-events: none;
    animation: fadeHint 4s ease forwards;
  }
  @keyframes fadeHint { 0%,60% { opacity:1; } 100% { opacity:0; } }
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash">
  <div class="eyebrow">ton espace personnel</div>
  <h1>MATHIEU<br>PICHETTE<em>.co</em></h1>
  <div class="scroll-hint">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="18 15 12 9 6 15"/></svg>
    <span>scroll up</span>
  </div>
  <button id="startBtn" onclick="startApp()">ENTRER →</button>
</div>

<!-- FEED -->
<div id="feed">
  <button id="navUp" onclick="goTo(currentIndex + 1)" title="Vidéo suivante">↑</button>
  <button id="navDown" onclick="goTo(currentIndex - 1)" title="Vidéo précédente">↓</button>
  <button id="fsBtn" onclick="toggleFS()" title="Plein écran (F)">⛶</button>
  <div id="topbar">
    <div class="brand">MP<span>.</span>co</div>
    <div id="counter"></div>
  </div>
  <div id="scrollBar"></div>
</div>

<script>
const VIDEOS = [
  { name: "Madara Uchiha vs Shinobi Alliance Full Fight English Dub", url: "https://ia600807.us.archive.org/33/items/madara-uchiha-vs-shinobi-alliance-full-fight-english-dub-2/Madara%20Uchiha%20vs%20Shinobi%20Alliance%20%20Full%20Fight%20%20English%20Dub%20%282%29.mp4" },
  { name: "Madara vs 5 Kage Full Fight English Dub", url: "https://ia800500.us.archive.org/31/items/madara-vs-5-kage-full-fight-five-kage-vs-madara-uchiha-shinobi-alliance/Madara%20vs%205%20Kage%20FULL%20fight%20%20FIVE%20Kage%20vs%20Madara%20Uchiha%20%20Shinobi%20alliance.mp4" },
  { name: "Naruto vs 3rd Raikage Full Fight English Dub", url: "https://ia600902.us.archive.org/23/items/naruto-vs-3-raikage-full-fight-english-dub/Naruto%20vs%203%20Raikage%20Full%20Fight%20English%20Dub.mp4" },
];

let shuffled = [];
let currentIndex = 0;
let slides = [];
let wheelLock = false;

function toggleFS() {
  if (!document.fullscreenElement) document.documentElement.requestFullscreen().catch(()=>{});
  else document.exitFullscreen();
}

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function startApp() {
  document.getElementById('splash').style.display = 'none';
  document.getElementById('feed').style.display = 'block';
  buildFeed();
}

function buildFeed() {
  const feed = document.getElementById('feed');
  slides.forEach(s => s.remove());
  slides = [];
  shuffled = shuffle(VIDEOS);
  currentIndex = 0;

  shuffled.forEach((vid, i) => {
    const slide = document.createElement('div');
    slide.className = 'slide';
    slide.dataset.url = vid.url;

    const video = document.createElement('video');
    video.controls = true;
    video.playsInline = true;
    video.preload = 'none';
    video.style.cssText = 'position:absolute;top:0;left:0;width:100%;height:100%;background:#000;object-fit:contain;z-index:1;';
    slide.appendChild(video);

    const info = document.createElement('div');
    info.className = 'slide-info';
    info.innerHTML = `<div class="slide-num">VIDÉO ${i+1} / ${shuffled.length}</div><div class="slide-title">${vid.name}</div>`;
    slide.appendChild(info);

    slide.style.transform = `translateY(${i * 100}%)`;
    feed.appendChild(slide);
    slides.push(slide);
  });

  loadSlide(0);
  updateUI();

  // hint
  const hint = document.createElement('div');
  hint.id = 'hint';
  hint.textContent = '↑ scroll up pour la prochaine';
  document.body.appendChild(hint);
  setTimeout(() => hint.remove(), 4200);
}

function loadSlide(idx) {
  const slide = slides[idx];
  if (!slide) return;
  const video = slide.querySelector('video');
  if (!video.src) {
    video.src = slide.dataset.url;
    video.load();
  }
  video.play().catch(() => {});
}

function stopSlide(idx) {
  const slide = slides[idx];
  if (!slide) return;
  const video = slide.querySelector('video');
  if (video) { video.pause(); video.currentTime = 0; }
}

function goTo(idx) {
  if (idx < 0 || idx >= slides.length) return;
  // Sur mobile iPhone — scroll UP seulement, jamais en arrière
  if ('ontouchstart' in window && idx < currentIndex) return;
  stopSlide(currentIndex);
  currentIndex = idx;
  slides.forEach((s, i) => {
    s.style.transform = `translateY(${(currentIndex - i) * 100}%)`;
  });
  loadSlide(currentIndex);
  updateUI();
}

function updateUI() {
  document.getElementById('counter').textContent = `${currentIndex + 1} / ${shuffled.length}`;
  const bar = document.getElementById('scrollBar');
  bar.innerHTML = '';
  const total = Math.min(shuffled.length, 12);
  const rel = Math.round((currentIndex / Math.max(shuffled.length - 1, 1)) * (total - 1));
  for (let i = total - 1; i >= 0; i--) {
    const d = document.createElement('div');
    d.className = 'bdot' + (i === (total - 1 - rel) ? ' active' : '');
    bar.appendChild(d);
  }
}

// TOUCH MOBILE (iPhone) — swipe UP = vidéo suivante uniquement
let touchStartY = 0;
document.addEventListener('touchstart', e => {
  touchStartY = e.touches[0].clientY;
}, { passive: true });

document.addEventListener('touchend', e => {
  if (document.getElementById('feed').style.display === 'none') return;
  const diff = touchStartY - e.changedTouches[0].clientY;
  // Seulement swipe UP (diff > 0 = doigt monté)
  if (diff > 50) goTo(currentIndex + 1);
}, { passive: true });

// Bloquer le scroll natif du browser sur iOS
document.addEventListener('touchmove', e => {
  if (document.getElementById('feed').style.display !== 'none') {
    e.preventDefault();
  }
}, { passive: false });

// SCROLL MOLETTE — UP = vidéo suivante (laptop)
window.addEventListener('wheel', e => {
  if (document.getElementById('feed').style.display === 'none') return;
  e.preventDefault();
  if (wheelLock) return;
  wheelLock = true;
  setTimeout(() => wheelLock = false, 700);
  if (e.deltaY > 0) goTo(currentIndex + 1);
  else goTo(currentIndex - 1);
}, { passive: false });

// TOUCH SWIPE — iPhone XR — swipe UP = vidéo suivante uniquement
let touchStartY = 0;
let touchLock = false;

document.addEventListener('touchstart', e => {
  touchStartY = e.touches[0].clientY;
}, { passive: true });

document.addEventListener('touchend', e => {
  if (touchLock) return;
  const diff = touchStartY - e.changedTouches[0].clientY;
  // Swipe UP = doigt monte = diff positif = vidéo suivante SEULEMENT
  if (diff > 50) {
    touchLock = true;
    setTimeout(() => touchLock = false, 700);
    goTo(currentIndex + 1);
  }
  // Pas de swipe down — on revient jamais en arrière sur mobile
}, { passive: true });

// FLÈCHES CLAVIER — UP = vidéo suivante
// Re-focus sur le body quand on clique ailleurs pour garder le contrôle
document.addEventListener('click', () => {
  setTimeout(() => document.body.focus(), 100);
});

document.body.setAttribute('tabindex', '0');
document.body.focus();

document.addEventListener('keydown', e => {
  if (document.getElementById('feed').style.display === 'none') return;
  if (e.key === 'ArrowUp')   { e.preventDefault(); document.body.focus(); goTo(currentIndex + 1); }
  if (e.key === 'ArrowDown') { e.preventDefault(); document.body.focus(); goTo(currentIndex - 1); }
  // F = plein écran
  if (e.key === 'f' || e.key === 'F') {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen().catch(()=>{});
    } else {
      document.exitFullscreen();
    }
  }
});


</script>
</body>
</html>
